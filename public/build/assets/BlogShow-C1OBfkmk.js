import{c as L,r as T,u as H,a as P,j as s,H as M,L as O}from"./app-DNPVvowq.js";import{N as V}from"./NavBar-DsBx5I7T.js";/* empty css            */function B(F){const e=L.c(61),{comment:t,postId:l}=F,[r,p]=T.useState(!1),{auth:i}=H().props;let u;e[0]!==t.id||e[1]!==l?(u={content:"",post_id:l,parent_id:t.id},e[0]=t.id,e[1]=l,e[2]=u):u=e[2];const{data:b,setData:h,post:w,processing:f,reset:g}=P(u);let n;e[3]!==w||e[4]!==g?(n=E=>{E.preventDefault(),w("/comments",{onSuccess:()=>{g(),p(!1)}})},e[3]=w,e[4]=g,e[5]=n):n=e[5];const o=n;let m;e[6]!==i.user||e[7]!==t.id?(m=()=>{i.user&&router.post(route("comments.like",t.id),{},{preserveScroll:!0})},e[6]=i.user,e[7]=t.id,e[8]=m):m=e[8];const c=m;let d;e[9]!==t.id?(d=()=>{confirm("Voulez-vous vraiment supprimer ce commentaire ?")&&router.delete(route("comments.destroy",t.id),{preserveScroll:!0})},e[9]=t.id,e[10]=d):d=e[10];const a=d;let x;e[11]!==t.user.avatar||e[12]!==t.user.initials||e[13]!==t.user.name?(x=t.user.avatar?s.jsx("img",{src:t.user.avatar,alt:t.user.name,className:"w-full h-full rounded-full object-cover"}):t.user.initials,e[11]=t.user.avatar,e[12]=t.user.initials,e[13]=t.user.name,e[14]=x):x=e[14];let j;e[15]!==x?(j=s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xs font-bold text-white",children:x})}),e[15]=x,e[16]=j):j=e[16];let S;e[17]!==t.user.name?(S=s.jsx("h4",{className:"font-bold text-sm text-white",children:t.user.name}),e[17]=t.user.name,e[18]=S):S=e[18];let $;e[19]!==t.content?($=s.jsx("p",{className:"text-sm text-gray-300",children:t.content}),e[19]=t.content,e[20]=$):$=e[20];let y;e[21]!==S||e[22]!==$?(y=s.jsxs("div",{className:"bg-gray-800 rounded-2xl px-4 py-2 inline-block",children:[S,$]}),e[21]=S,e[22]=$,e[23]=y):y=e[23];let k;e[24]!==t.created_at?(k=s.jsx("span",{children:t.created_at}),e[24]=t.created_at,e[25]=k):k=e[25];const D=`${t.is_liked?"text-emerald-500 font-bold":"hover:underline"}`;let C;e[26]!==D||e[27]!==c?(C=s.jsx("button",{onClick:c,className:D,children:"J'aime"}),e[26]=D,e[27]=c,e[28]=C):C=e[28];let R;e[29]!==r?(R=s.jsx("button",{onClick:()=>p(!r),className:"hover:underline",children:"R√©pondre"}),e[29]=r,e[30]=R):R=e[30];let q;e[31]!==i.user||e[32]!==t.user.id||e[33]!==a?(q=i.user&&i.user.id===t.user.id&&s.jsx("button",{onClick:a,className:"text-red-500 hover:underline",children:"Supprimer"}),e[31]=i.user,e[32]=t.user.id,e[33]=a,e[34]=q):q=e[34];let z;e[35]!==t.likes_count?(z=t.likes_count>0&&s.jsxs("span",{className:"flex items-center gap-1 text-gray-400 font-normal",children:["üëç ",t.likes_count]}),e[35]=t.likes_count,e[36]=z):z=e[36];let v;e[37]!==k||e[38]!==C||e[39]!==R||e[40]!==q||e[41]!==z?(v=s.jsxs("div",{className:"flex items-center gap-4 mt-1 ml-2 text-xs text-gray-500 font-semibold",children:[k,C,R,q,z]}),e[37]=k,e[38]=C,e[39]=R,e[40]=q,e[41]=z,e[42]=v):v=e[42];let N;e[43]!==t.user.name||e[44]!==b||e[45]!==f||e[46]!==h||e[47]!==r||e[48]!==o?(N=r&&s.jsxs("form",{onSubmit:o,className:"mt-3 flex gap-2",children:[s.jsx("input",{type:"text",value:b.content,onChange:E=>h("content",E.target.value),placeholder:`R√©pondre √† ${t.user.name}...`,className:"flex-grow bg-gray-800 border-none rounded-full px-4 py-2 text-sm text-white focus:ring-1 focus:ring-emerald-500",autoFocus:!0}),s.jsx("button",{type:"submit",disabled:f||!b.content.trim(),className:"text-emerald-500 font-bold text-sm disabled:opacity-50",children:"POSTER"})]}),e[43]=t.user.name,e[44]=b,e[45]=f,e[46]=h,e[47]=r,e[48]=o,e[49]=N):N=e[49];let _;e[50]!==t.replies||e[51]!==l?(_=t.replies&&t.replies.length>0&&s.jsx("div",{className:"mt-3 ml-2 pl-3 border-l-2 border-gray-800",children:t.replies.map(E=>s.jsx(B,{comment:E,postId:l},E.id))}),e[50]=t.replies,e[51]=l,e[52]=_):_=e[52];let I;e[53]!==v||e[54]!==N||e[55]!==_||e[56]!==y?(I=s.jsxs("div",{className:"flex-grow",children:[y,v,N,_]}),e[53]=v,e[54]=N,e[55]=_,e[56]=y,e[57]=I):I=e[57];let J;return e[58]!==I||e[59]!==j?(J=s.jsxs("div",{className:"flex gap-3 mb-4",children:[j,I]}),e[58]=I,e[59]=j,e[60]=J):J=e[60],J}function A(F){const e=L.c(24),{comments:t,postId:l}=F,{auth:r}=H().props;let p;e[0]!==l?(p={content:"",post_id:l,parent_id:null},e[0]=l,e[1]=p):p=e[1];const{data:i,setData:u,post:b,processing:h,reset:w}=P(p);let f;e[2]!==b||e[3]!==w?(f=a=>{a.preventDefault(),b("/comments",{onSuccess:()=>w()})},e[2]=b,e[3]=w,e[4]=f):f=e[4];const g=f;let n;e[5]!==t.length?(n=s.jsxs("h3",{className:"text-xl font-bold text-white mb-6",children:["Commentaires (",t.length,")"]}),e[5]=t.length,e[6]=n):n=e[6];let o;e[7]!==r.user||e[8]!==i||e[9]!==h||e[10]!==u||e[11]!==g?(o=r.user?s.jsxs("div",{className:"flex gap-3 mb-8",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-700 flex-shrink-0 flex items-center justify-center text-xs font-bold text-white",children:r.user.profile_photo_url?s.jsx("img",{src:r.user.profile_photo_url,className:"w-full h-full rounded-full object-cover"}):r.user.name.substring(0,2)}),s.jsxs("form",{onSubmit:g,className:"flex-grow",children:[s.jsx("textarea",{value:i.content,onChange:a=>u("content",a.target.value),placeholder:"√âcrivez un commentaire...",className:"w-full bg-gray-900 border border-gray-800 rounded-xl p-3 text-white text-sm focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 resize-none h-20"}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("button",{type:"submit",disabled:h||!i.content.trim(),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-bold rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Commenter"})})]})]}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 mb-8 text-center",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Connectez-vous pour participer √† la discussion."}),s.jsx("a",{href:"/login",className:"text-emerald-400 hover:underline text-sm font-bold mt-2 inline-block",children:"Se connecter"})]}),e[7]=r.user,e[8]=i,e[9]=h,e[10]=u,e[11]=g,e[12]=o):o=e[12];let m;if(e[13]!==t||e[14]!==l){let a;e[16]!==l?(a=x=>s.jsx(B,{comment:x,postId:l},x.id),e[16]=l,e[17]=a):a=e[17],m=t.map(a),e[13]=t,e[14]=l,e[15]=m}else m=e[15];let c;e[18]!==m?(c=s.jsx("div",{className:"space-y-6",children:m}),e[18]=m,e[19]=c):c=e[19];let d;return e[20]!==n||e[21]!==o||e[22]!==c?(d=s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-800",children:[n,o,c]}),e[20]=n,e[21]=o,e[22]=c,e[23]=d):d=e[23],d}function U(F){const e=L.c(64),{post:t}=F;let l;e[0]!==t.excerpt?(l=s.jsx("meta",{name:"description",content:t.excerpt}),e[0]=t.excerpt,e[1]=l):l=e[1];let r;e[2]!==t.title?(r=s.jsx("meta",{property:"og:title",content:t.title}),e[2]=t.title,e[3]=r):r=e[3];let p;e[4]!==t.excerpt?(p=s.jsx("meta",{property:"og:description",content:t.excerpt}),e[4]=t.excerpt,e[5]=p):p=e[5];let i;e[6]!==t.image_url?(i=t.image_url&&s.jsx("meta",{property:"og:image",content:t.image_url}),e[6]=t.image_url,e[7]=i):i=e[7];let u;e[8]!==t.title||e[9]!==l||e[10]!==r||e[11]!==p||e[12]!==i?(u=s.jsxs(M,{title:t.title,children:[l,r,p,i]}),e[8]=t.title,e[9]=l,e[10]=r,e[11]=p,e[12]=i,e[13]=u):u=e[13];let b;e[14]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(V,{}),e[14]=b):b=e[14];let h;e[15]!==t.author?(h=s.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-700 flex items-center justify-center text-white font-bold text-sm",children:t.author?.avatar?s.jsx("img",{src:t.author.avatar,alt:t.author.name,className:"w-full h-full rounded-full object-cover"}):s.jsx("span",{children:t.author?.initials||"NJ"})}),e[15]=t.author,e[16]=h):h=e[16];const w=t.author?.name||"Njimolux";let f;e[17]!==w?(f=s.jsx("h3",{className:"text-sm font-bold text-white leading-none mb-1",children:w}),e[17]=w,e[18]=f):f=e[18];let g;e[19]!==t.category||e[20]!==t.published_at?(g=s.jsxs("p",{className:"text-xs text-gray-400",children:[t.published_at," ‚Ä¢ ",t.category]}),e[19]=t.category,e[20]=t.published_at,e[21]=g):g=e[21];let n;e[22]!==g||e[23]!==f?(n=s.jsxs("div",{children:[f,g]}),e[22]=g,e[23]=f,e[24]=n):n=e[24];let o;e[25]!==n||e[26]!==h?(o=s.jsxs("div",{className:"flex items-center gap-3",children:[h,n]}),e[25]=n,e[26]=h,e[27]=o):o=e[27];let m;e[28]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(O,{href:"/blog",className:"text-emerald-400 hover:text-emerald-300 text-sm font-medium",children:"‚úï Fermer"}),e[28]=m):m=e[28];let c;e[29]!==o?(c=s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800 bg-gray-900/80 backdrop-blur-sm sticky top-20 z-10 md:static md:bg-transparent",children:[o,m]}),e[29]=o,e[30]=c):c=e[30];let d;e[31]!==t.title?(d=s.jsx("div",{className:"px-4 py-3",children:s.jsx("h1",{className:"text-xl md:text-3xl font-bold leading-tight text-white",children:t.title})}),e[31]=t.title,e[32]=d):d=e[32];let a;e[33]!==t.image_url||e[34]!==t.title?(a=t.image_url&&s.jsx("div",{className:"w-full relative aspect-square md:aspect-video bg-gray-800",children:s.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover"})}),e[33]=t.image_url,e[34]=t.title,e[35]=a):a=e[35];let x;e[36]!==t.content?(x=s.jsx("div",{className:"px-4 py-6 md:px-8 md:py-8",children:s.jsx("div",{className:`
                  prose prose-invert max-w-none
                  prose-p:text-gray-300 prose-p:text-[16px] prose-p:leading-relaxed
                  prose-headings:text-emerald-400 prose-headings:font-bold
                  prose-a:text-emerald-400 hover:prose-a:text-emerald-300
                  prose-blockquote:border-l-emerald-500 prose-blockquote:bg-gray-800/30 prose-blockquote:py-1 prose-blockquote:px-4
                  prose-img:rounded-xl prose-img:w-full
                `,dangerouslySetInnerHTML:{__html:t.content}})}),e[36]=t.content,e[37]=x):x=e[37];let j;e[38]!==d||e[39]!==a||e[40]!==x?(j=s.jsxs("article",{children:[d,a,x]}),e[38]=d,e[39]=a,e[40]=x,e[41]=j):j=e[41];let S;e[42]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("span",{children:"0 J'aime"}),e[42]=S):S=e[42];const $=t.comments?t.comments.length:0;let y;e[43]!==$?(y=s.jsxs("div",{className:"px-4 py-3 border-t border-gray-800 flex items-center justify-between text-gray-400 text-sm",children:[S,s.jsxs("span",{children:[$," Commentaires"]})]}),e[43]=$,e[44]=y):y=e[44];let k;e[45]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("span",{children:"üëç"}),e[45]=k):k=e[45];let D;e[46]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs("button",{className:"py-3 flex items-center justify-center gap-2 hover:bg-gray-800 transition-colors",children:[k," ",s.jsx("span",{className:"hidden sm:inline",children:"J'aime"})]}),e[46]=D):D=e[46];let C;e[47]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("span",{children:"üí¨"}),e[47]=C):C=e[47];let R;e[48]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsxs("button",{className:"py-3 flex items-center justify-center gap-2 hover:bg-gray-800 transition-colors",children:[C," ",s.jsx("span",{className:"hidden sm:inline",children:"Commenter"})]}),e[48]=R):R=e[48];let q;e[49]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("span",{children:"‚ÜóÔ∏è"}),e[49]=q):q=e[49];let z;e[50]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs("div",{className:"grid grid-cols-3 border-t border-gray-800 divide-x divide-gray-800",children:[D,R,s.jsxs("button",{className:"py-3 flex items-center justify-center gap-2 hover:bg-gray-800 transition-colors",children:[q," ",s.jsx("span",{className:"hidden sm:inline",children:"Partager"})]})]}),e[50]=z):z=e[50];let v;e[51]!==t.comments?(v=t.comments||[],e[51]=t.comments,e[52]=v):v=e[52];let N;e[53]!==t.id||e[54]!==v?(N=s.jsx("div",{className:"px-4 py-6 border-t border-gray-800",children:s.jsx(A,{comments:v,postId:t.id})}),e[53]=t.id,e[54]=v,e[55]=N):N=e[55];let _;e[56]!==c||e[57]!==j||e[58]!==y||e[59]!==N?(_=s.jsxs("div",{className:"min-h-screen bg-black text-white pb-20 pt-20",children:[" ",s.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-900/50 md:rounded-xl overflow-hidden md:mt-6 border-b md:border border-gray-800",children:[c,j,y,z,N]})]}),e[56]=c,e[57]=j,e[58]=y,e[59]=N,e[60]=_):_=e[60];let I;return e[61]!==_||e[62]!==u?(I=s.jsxs(s.Fragment,{children:[u,b,_]}),e[61]=_,e[62]=u,e[63]=I):I=e[63],I}export{U as default};
