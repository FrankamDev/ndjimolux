import{r as o,j as r,L as R}from"./app-BfzvRhAi.js";import{M as Y,i as I,u as D,P as A,a as G,b as T,L as U,m as P}from"./proxy-CQXJ--WW.js";function z(e,i){if(typeof e=="function")return e(i);e!=null&&(e.current=i)}function K(...e){return i=>{let t=!1;const l=e.map(a=>{const n=z(a,i);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let a=0;a<l.length;a++){const n=l[a];typeof n=="function"?n():z(e[a],null)}}}}function X(...e){return o.useCallback(K(...e),e)}class F extends o.Component{getSnapshotBeforeUpdate(i){const t=this.props.childRef.current;if(t&&i.isPresent&&!this.props.isPresent){const l=t.offsetParent,a=I(l)&&l.offsetWidth||0,n=I(l)&&l.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=a-s.width-s.left,s.bottom=n-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function J({children:e,isPresent:i,anchorX:t,anchorY:l,root:a}){const n=o.useId(),s=o.useRef(null),v=o.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:w}=o.useContext(Y),j=e.props?.ref??e?.ref,d=X(s,j);return o.useInsertionEffect(()=>{const{width:C,height:f,top:u,left:p,right:x,bottom:g}=v.current;if(i||!s.current||!C||!f)return;const N=t==="left"?`left: ${p}`:`right: ${x}`,M=l==="bottom"?`bottom: ${g}`:`top: ${u}`;s.current.dataset.motionPopId=n;const b=document.createElement("style");w&&(b.nonce=w);const h=a??document.head;return h.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${f}px !important;
            ${N}px !important;
            ${M}px !important;
          }
        `),()=>{h.contains(b)&&h.removeChild(b)}},[i]),r.jsx(F,{isPresent:i,childRef:s,sizeRef:v,children:o.cloneElement(e,{ref:d})})}const V=({children:e,initial:i,isPresent:t,onExitComplete:l,custom:a,presenceAffectsLayout:n,mode:s,anchorX:v,anchorY:w,root:j})=>{const d=D(q),C=o.useId();let f=!0,u=o.useMemo(()=>(f=!1,{id:C,initial:i,isPresent:t,custom:a,onExitComplete:p=>{d.set(p,!0);for(const x of d.values())if(!x)return;l&&l()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[t,d,l]);return n&&f&&(u={...u}),o.useMemo(()=>{d.forEach((p,x)=>d.set(x,!1))},[t]),o.useEffect(()=>{!t&&!d.size&&l&&l()},[t]),s==="popLayout"&&(e=r.jsx(J,{isPresent:t,anchorX:v,anchorY:w,root:j,children:e})),r.jsx(A.Provider,{value:u,children:e})};function q(){return new Map}const k=e=>e.key||"";function H(e){const i=[];return o.Children.forEach(e,t=>{o.isValidElement(t)&&i.push(t)}),i}const Q=({children:e,custom:i,initial:t=!0,onExitComplete:l,presenceAffectsLayout:a=!0,mode:n="sync",propagate:s=!1,anchorX:v="left",anchorY:w="top",root:j})=>{const[d,C]=G(s),f=o.useMemo(()=>H(e),[e]),u=s&&!d?[]:f.map(k),p=o.useRef(!0),x=o.useRef(f),g=D(()=>new Map),N=o.useRef(new Set),[M,b]=o.useState(f),[h,S]=o.useState(f);T(()=>{p.current=!1,x.current=f;for(let m=0;m<h.length;m++){const c=k(h[m]);u.includes(c)?(g.delete(c),N.current.delete(c)):g.get(c)!==!0&&g.set(c,!1)}},[h,u.length,u.join("-")]);const E=[];if(f!==M){let m=[...f];for(let c=0;c<h.length;c++){const y=h[c],L=k(y);u.includes(L)||(m.splice(c,0,y),E.push(y))}return n==="wait"&&E.length&&(m=E),S(H(m)),b(f),null}const{forceRender:O}=o.useContext(U);return r.jsx(r.Fragment,{children:h.map(m=>{const c=k(m),y=s&&!d?!1:f===h||u.includes(c),L=()=>{if(N.current.has(c))return;if(N.current.add(c),g.has(c))g.set(c,!0);else return;let $=!0;g.forEach(W=>{W||($=!1)}),$&&(O?.(),S(x.current),s&&C?.(),l&&l())};return r.jsx(V,{isPresent:y,initial:!p.current||t?void 0:!1,custom:i,presenceAffectsLayout:a,mode:n,root:j,onExitComplete:y?void 0:L,anchorX:v,anchorY:w,children:m},c)})})},B=[{name:"Accueil",href:"/"},{name:"Réalisations",href:"/realisations"},{name:"À Propos",href:"/about"},{name:"Blog",href:"/blog"},{name:"Contact",href:"/contact"}],ee=()=>{const[e,i]=o.useState(!1),[t,l]=o.useState(!1);let a=0;return o.useEffect(()=>{const n=()=>{const s=window.scrollY;l(s>a&&s>50),a=s};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),r.jsxs(P.header,{initial:{y:-100},animate:{y:t?-120:0},transition:{duration:.6,ease:"easeOut"},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-b from-black/95 to-black/80 backdrop-blur-lg border-b border-green-900/20 shadow-lg",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-20",children:[r.jsxs(R,{prefetch:!0,href:"/",className:"flex items-center space-x-3",children:[r.jsx(P.div,{whileHover:{scale:1.1,rotate:5},className:"w-14 h-12 bg-gradient-to-br from-green-800 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-2xl shadow-md",children:r.jsx("img",{src:"./njimoluxe.png",className:"rounded-full h-full",alt:"Logo"})}),r.jsx("span",{className:"text-3xl font-serif font-bold text-white tracking-wide",children:"NJIMOLUX"})]}),r.jsx("nav",{className:"hidden md:flex items-center space-x-10",children:B.map(n=>r.jsx(R,{href:n.href,className:"text-gray-200 hover:text-green-400 transition-colors duration-300 font-sans font-medium text-lg",children:n.name},n.name))}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(R,{prefetch:!0,href:"/contact",className:"hidden md:inline-flex items-center px-6 py-3 bg-green-700 hover:bg-green-600 text-white font-sans font-semibold rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Devis Gratuit"}),r.jsx("button",{className:"md:hidden text-white p-2 rounded-full hover:bg-green-900/30 transition-colors",onClick:()=>i(!e),children:r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:e?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]})}),r.jsx(Q,{children:e&&r.jsx(P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.4},className:"md:hidden bg-black border-t border-green-900/30 overflow-hidden",children:r.jsxs("div",{className:"px-4 py-6 space-y-5",children:[B.map(n=>r.jsx(R,{href:n.href,className:"block text-xl text-gray-200 hover:text-green-400 transition-colors",onClick:()=>i(!1),children:n.name},n.name)),r.jsx(R,{href:"/devis",className:"block w-full text-center py-4 bg-green-700 hover:bg-green-600 text-white font-sans font-semibold rounded-full mt-4 shadow-md",onClick:()=>i(!1),children:"Devis Gratuit"})]})})})]})};export{Q as A,ee as N};
